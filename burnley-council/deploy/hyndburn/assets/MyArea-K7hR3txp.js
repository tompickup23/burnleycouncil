import{j as e}from"./tanstack-BHj98Y4o.js";import{r as d}from"./vendor-BUcjPAt-.js";import{c as x,u as j,L as u,M as p}from"./index-rU4F0J3P.js";import{M as y}from"./mail-BlmXtny-.js";import{P as N}from"./phone-BlMqDA3l.js";import"./recharts-OQS_r4Wn.js";const v=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f=x("user",v);function _(){const{data:o,loading:t}=j(["/data/wards.json","/data/councillors.json"]),[m,h]=o||[{},[]],[r,l]=d.useState(null);if(d.useEffect(()=>(document.title="My Area | Burnley Council Transparency",()=>{document.title="Burnley Council Transparency"}),[]),t)return e.jsx(u,{message:"Loading ward data..."});const c=Object.values(m).sort((a,s)=>a.name.localeCompare(s.name)),i=a=>h.filter(s=>s.ward===a);return e.jsxs("div",{className:"myarea-page animate-fade-in",children:[e.jsxs("header",{className:"page-header",children:[e.jsx("h1",{children:"My Area"}),e.jsx("p",{className:"subtitle",children:"Find your ward and councillors in Burnley. Each ward has 3 councillors."})]}),e.jsxs("section",{className:"ward-selector",children:[e.jsx("label",{htmlFor:"ward-select",children:"Select your ward:"}),e.jsxs("select",{id:"ward-select",value:r||"",onChange:a=>l(a.target.value||null),children:[e.jsx("option",{value:"",children:"Choose a ward..."}),c.map(a=>e.jsx("option",{value:a.name,children:a.name},a.name))]})]}),r&&e.jsxs("section",{className:"ward-details animate-fade-in",children:[e.jsxs("div",{className:"ward-header",children:[e.jsx(p,{size:24,className:"ward-icon"}),e.jsxs("div",{children:[e.jsx("h2",{children:r}),e.jsx("p",{className:"text-secondary",children:"Your local councillors"})]})]}),e.jsx("div",{className:"ward-councillors",children:i(r).map(a=>e.jsxs("div",{className:"councillor-detail-card",children:[e.jsx("div",{className:"party-bar",style:{background:a.party_color}}),e.jsxs("div",{className:"councillor-content",children:[e.jsxs("div",{className:"councillor-main",children:[e.jsx(f,{size:40,className:"councillor-avatar"}),e.jsxs("div",{children:[e.jsx("h3",{children:a.name}),e.jsx("span",{className:"party-badge",style:{background:a.party_color+"25",color:a.party_color},children:a.party})]})]}),a.roles?.length>0&&e.jsx("div",{className:"councillor-roles",children:a.roles.map((s,n)=>e.jsx("span",{className:"role-badge",children:s},n))}),e.jsxs("div",{className:"councillor-contact",children:[a.email&&e.jsxs("a",{href:`mailto:${a.email}`,className:"contact-link",children:[e.jsx(y,{size:16}),e.jsx("span",{children:a.email})]}),a.phone&&e.jsxs("a",{href:`tel:${a.phone}`,className:"contact-link",children:[e.jsx(N,{size:16}),e.jsx("span",{children:a.phone})]})]})]})]},a.id))})]}),e.jsxs("section",{className:"all-wards",children:[e.jsx("h2",{children:"All Wards"}),e.jsx("div",{className:"wards-grid",children:c.map(a=>{const s=i(a.name);return e.jsxs("div",{className:`ward-card ${r===a.name?"selected":""}`,onClick:()=>l(a.name),children:[e.jsx("div",{className:"ward-party-indicator",style:{background:a.color}}),e.jsxs("div",{className:"ward-content",children:[e.jsx("h3",{children:a.name}),e.jsx("p",{className:"ward-parties text-secondary",children:a.parties?.join(", ")}),e.jsx("div",{className:"ward-councillor-names",children:s.map(n=>e.jsx("span",{className:"councillor-name",children:n.name},n.id))})]})]},a.name)})})]}),e.jsxs("section",{className:"find-ward",children:[e.jsx("h2",{children:"Not sure which ward you're in?"}),e.jsxs("div",{className:"find-ward-card",children:[e.jsx("p",{children:"You can find your ward by entering your postcode on the official Burnley Council website."}),e.jsx("a",{href:"https://burnley.gov.uk/council-democracy/councillors-mps/find-your-councillor/",target:"_blank",rel:"noopener noreferrer",className:"find-ward-link",children:"Find Your Councillor on burnley.gov.uk â†’"})]})]})]})}export{_ as default};
