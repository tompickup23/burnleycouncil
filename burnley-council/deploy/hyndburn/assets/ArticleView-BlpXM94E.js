import{j as t}from"./tanstack-BHj98Y4o.js";import{h as j,r as o,L as m}from"./vendor-BUcjPAt-.js";import{c as p,u as b,L as N,C as k,f as w}from"./index-rU4F0J3P.js";/* empty css             */import"./recharts-OQS_r4Wn.js";const C=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h=p("arrow-left",C);const A=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],E=p("tag",A);function $(){const{articleId:c}=j(),{data:g,loading:y}=b("/data/articles-index.json"),[d,u]=o.useState(null),[f,l]=o.useState(!0),e=g?.find(a=>a.id===c);return o.useEffect(()=>{if(!c)return;let a=!1;return l(!0),fetch(`/hyndburn/data/articles/${c}.json`).then(i=>{if(!i.ok)throw new Error("Article not found");return i.json()}).then(i=>{a||(u(i.content),l(!1))}).catch(()=>{a||(u(null),l(!1))}),()=>{a=!0}},[c]),o.useEffect(()=>{if(e){document.title=`${e.title} | Burnley Council Transparency`;let a=document.querySelector('meta[name="description"]');a||(a=document.createElement("meta"),a.setAttribute("name","description"),document.head.appendChild(a)),a.setAttribute("content",e.summary||"");const i={"og:title":e.title,"og:description":e.summary||"","og:type":"article","og:url":`https://aidoge.co.uk/burnleycouncil/news/${e.id}`,"og:image":e.image?`https://aidoge.co.uk/burnleycouncil${e.image}`:"","article:published_time":e.date,"article:author":e.author||"Burnley Council Transparency","article:section":e.category||"News"};if(Object.entries(i).forEach(([n,x])=>{let s=document.querySelector(`meta[property="${n}"]`);s||(s=document.createElement("meta"),s.setAttribute("property",n),document.head.appendChild(s)),s.setAttribute("content",x)}),e.tags?.length){let n=document.querySelector('meta[name="keywords"]');n||(n=document.createElement("meta"),n.setAttribute("name","keywords"),document.head.appendChild(n)),n.setAttribute("content",e.tags.join(", "))}let r=document.getElementById("article-jsonld");r||(r=document.createElement("script"),r.id="article-jsonld",r.type="application/ld+json",document.head.appendChild(r)),r.textContent=JSON.stringify({"@context":"https://schema.org","@type":"NewsArticle",headline:e.title,description:e.summary||"",image:e.image?[`https://aidoge.co.uk/burnleycouncil${e.image}`]:[],datePublished:e.date,dateModified:e.date,author:{"@type":"Organization",name:e.author||"Burnley Council Transparency",url:"https://aidoge.co.uk/burnleycouncil"},publisher:{"@type":"Organization",name:"Burnley Council Transparency",url:"https://aidoge.co.uk/burnleycouncil"},mainEntityOfPage:{"@type":"WebPage","@id":`https://aidoge.co.uk/burnleycouncil/news/${e.id}`},articleSection:e.category||"News",keywords:e.tags?.join(", ")||""})}return()=>{document.title="Burnley Council Transparency | Where Your Money Goes";const a=document.getElementById("article-jsonld");a&&a.remove()}},[e]),y||f?t.jsx(N,{message:"Loading article..."}):e?t.jsxs("div",{className:"news-page animate-fade-in",children:[t.jsxs(m,{to:"/news",className:"back-button",children:[t.jsx(h,{size:18})," Back to News"]}),t.jsxs("article",{className:"article-full",itemScope:!0,itemType:"https://schema.org/NewsArticle",children:[t.jsx("meta",{itemProp:"author",content:e.author||"Burnley Council Transparency"}),t.jsx("meta",{itemProp:"datePublished",content:e.date}),t.jsxs("header",{className:"article-header",children:[t.jsx("span",{className:`category-badge ${e.category?.toLowerCase()}`,children:e.category}),t.jsx("h1",{itemProp:"headline",children:e.title}),t.jsxs("div",{className:"article-meta",children:[t.jsxs("span",{className:"meta-item",children:[t.jsx(k,{size:16}),w(e.date,"long")]}),t.jsx("span",{className:"meta-item",children:e.author||"Burnley Council Transparency"})]})]}),e.image&&t.jsx("div",{className:"article-image",children:t.jsx("img",{src:`/hyndburn/${e.image.replace(/^\//,"")}`,alt:e.title,loading:"lazy",itemProp:"image"})}),d&&t.jsx("div",{className:"article-body",itemProp:"articleBody",dangerouslySetInnerHTML:{__html:d}}),e.tags?.length>0&&t.jsxs("div",{className:"article-tags",children:[t.jsx(E,{size:16}),e.tags.map(a=>t.jsx("span",{className:"tag",children:a},a))]})]})]}):t.jsxs("div",{className:"news-page animate-fade-in",children:[t.jsxs(m,{to:"/news",className:"back-button",children:[t.jsx(h,{size:18})," Back to News"]}),t.jsxs("div",{className:"article-not-found",children:[t.jsx("h2",{children:"Article not found"}),t.jsx("p",{children:"The article you're looking for doesn't exist or has been removed."})]})]})}export{$ as default};
