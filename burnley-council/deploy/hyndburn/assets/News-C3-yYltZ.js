import{j as e}from"./tanstack-BHj98Y4o.js";import{r as t,L as g}from"./vendor-BUcjPAt-.js";import{c as x,u as y,L as h,C as u,f as j,a as p,U as N,T as f}from"./index-rU4F0J3P.js";/* empty css             */import"./recharts-OQS_r4Wn.js";const v=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],w=x("circle-alert",v);function z(){const{data:a,loading:c,error:l}=y("/data/articles-index.json"),[r,d]=t.useState("all");if(t.useEffect(()=>(document.title="News & Findings | Burnley Council Transparency",()=>{document.title="Burnley Council Transparency | Where Your Money Goes"}),[]),c)return e.jsx(h,{message:"Loading articles..."});if(l||!a)return e.jsxs("div",{className:"news-page animate-fade-in",children:[e.jsx("h1",{children:"News & Findings"}),e.jsx("p",{children:"Failed to load articles. Please try refreshing the page."})]});const o=["all",...new Set(a.map(s=>s.category))],i=r==="all"?a:a.filter(s=>s.category===r),m=s=>{switch(s){case"Analysis":return e.jsx(f,{size:16});case"Democracy":return e.jsx(N,{size:16});default:return e.jsx(w,{size:16})}};return e.jsxs("div",{className:"news-page animate-fade-in",children:[e.jsxs("header",{className:"page-header",children:[e.jsx("h1",{children:"News & Findings"}),e.jsx("p",{className:"subtitle",children:"Analysis and investigations based on council spending data"})]}),e.jsx("div",{className:"category-filters",children:o.map(s=>e.jsx("button",{className:`category-btn ${r===s?"active":""}`,onClick:()=>d(s),children:s==="all"?"All":s},s))}),e.jsx("div",{className:"articles-list",children:i.map((s,n)=>e.jsxs(g,{to:`/news/${s.id}`,className:`article-card ${n===0?"featured":""}`,style:{animationDelay:`${n*.05}s`},children:[s.image&&e.jsx("div",{className:"article-card-image",children:e.jsx("img",{src:`/hyndburn/${s.image.replace(/^\//,"")}`,alt:"",loading:"lazy"})}),e.jsxs("div",{className:"article-card-content",children:[e.jsxs("div",{className:"article-card-meta",children:[e.jsxs("span",{className:`category-badge ${s.category?.toLowerCase()}`,children:[m(s.category),s.category]}),e.jsxs("span",{className:"article-date",children:[e.jsx(u,{size:14}),j(s.date)]})]}),e.jsx("h3",{children:s.title}),e.jsx("p",{className:"article-summary",children:s.summary}),e.jsxs("span",{className:"read-more",children:["Read more ",e.jsx(p,{size:14})]})]})]},s.id))}),i.length===0&&e.jsx("p",{className:"no-results",children:"No articles found in this category."})]})}export{z as default};
