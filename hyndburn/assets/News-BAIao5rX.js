import{j as e}from"./tanstack-BHj98Y4o.js";import{r as l,L as h}from"./vendor-BUcjPAt-.js";import{u,a as x,L as j,C as p,f as y,b as f,U as N,T as C}from"./index-WRD3Unp3.js";/* empty css             */import{C as v}from"./circle-alert-C7qFn7ep.js";import"./recharts-DyzHFDWD.js";function A(){const{council_name:r="Council"}=u(),{data:a,loading:c,error:o}=x("/data/articles-index.json"),[i,d]=l.useState("all");if(l.useEffect(()=>(document.title=`News & Findings | ${r} Council Transparency`,()=>{document.title=`${r} Council Transparency | Where Your Money Goes`}),[r]),c)return e.jsx(j,{message:"Loading articles..."});if(o||!a)return e.jsxs("div",{className:"news-page animate-fade-in",children:[e.jsx("h1",{children:"News & Findings"}),e.jsx("p",{children:"Failed to load articles. Please try refreshing the page."})]});const m=["all",...new Set(a.map(s=>s.category))],n=i==="all"?a:a.filter(s=>s.category===i),g=s=>{switch(s){case"Analysis":return e.jsx(C,{size:16});case"Democracy":return e.jsx(N,{size:16});default:return e.jsx(v,{size:16})}};return e.jsxs("div",{className:"news-page animate-fade-in",children:[e.jsxs("header",{className:"page-header",children:[e.jsx("h1",{children:"News & Findings"}),e.jsx("p",{className:"subtitle",children:"Analysis and investigations based on council spending data"})]}),e.jsx("div",{className:"category-filters",children:m.map(s=>e.jsx("button",{className:`category-btn ${i===s?"active":""}`,onClick:()=>d(s),children:s==="all"?"All":s},s))}),e.jsx("div",{className:"articles-list",children:n.map((s,t)=>e.jsxs(h,{to:`/news/${s.id}`,className:`article-card ${t===0?"featured":""}`,style:{animationDelay:`${t*.05}s`},children:[s.image&&e.jsx("div",{className:"article-card-image",children:e.jsx("img",{src:s.image,alt:"",loading:"lazy"})}),e.jsxs("div",{className:"article-card-content",children:[e.jsxs("div",{className:"article-card-meta",children:[e.jsxs("span",{className:`category-badge ${s.category?.toLowerCase()}`,children:[g(s.category),s.category]}),e.jsxs("span",{className:"article-date",children:[e.jsx(p,{size:14}),y(s.date)]})]}),e.jsx("h3",{children:s.title}),e.jsx("p",{className:"article-summary",children:s.summary}),e.jsxs("span",{className:"read-more",children:["Read more ",e.jsx(f,{size:14})]})]})]},s.id))}),n.length===0&&e.jsx("p",{className:"no-results",children:"No articles found in this category."})]})}export{A as default};
